<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <title>Keycloak Debug Client</title>
    <link rel="icon" href="data:," />
    <link rel="stylesheet" href="index.css" />
  </head>

  <body>
    <h1>
      Realm:
      <span id="realm"></span>
    </h1>

    <button id="login">Login</button>
    <button id="logout">Logout</button>
    <button id="register">Register</button>
    <button id="accountManagement">Account Management</button>

    <div id="error">
      <h2>Error</h2>
      <div id="error-message"></div>
    </div>

    <div id="authenticated">
      <h2>ID Token</h2>
      <pre id="idTokenParsed"></pre>

      <h2>Bearer Token</h2>
      <pre id="tokenParsed"></pre>

      <h2>Refresh Token</h2>
      <pre id="refreshTokenParsed"></pre>

      <h2>User Info</h2>
      <pre id="userInfo"></pre>

      <h2>User Profile</h2>
      <pre id="userProfile"></pre>
    </div>

    <div id="not-authenticated"><h2>Not authenticated</h2></div>

    <!--
      Assumes a keycloak realm and client setup like:

      Realm: keycloak-debug
        Client: keycloak-debug-client
          Valid Redirect URIs: http://localhost:2000/*
          Web Origins: +
    -->

    <script type="module">
      import { keycloakDebugClient } from "./index.js";

      keycloakDebugClient({
        url: "http://localhost:8080",
        realm: "keycloak-debug",
        clientId: "keycloak-debug-client"
      });
    </script>
  </body>
</html>
